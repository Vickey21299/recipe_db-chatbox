{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\dell\\\\OneDrive\\\\Desktop\\\\Voice-Assistant-RecipeDB\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\dell\\\\OneDrive\\\\Desktop\\\\Voice-Assistant-RecipeDB\\\\Frontend\\\\src\\\\pages\\\\RecipeList.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport './RecipeList.css';\nimport { BasicTable } from './../components/BasicTable';\nimport axios from 'axios';\nimport { ColorRing } from 'react-loader-spinner';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition';\nimport { useNavigate } from 'react-router-dom';\n\nvar RecipeList = function RecipeList(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFirstTime = _useState2[0],\n      setFirstTime = _useState2[1];\n\n  var userTranscript = localStorage.getItem('userTranscript');\n\n  var _useSpeechRecognition = useSpeechRecognition(),\n      transcript = _useSpeechRecognition.transcript,\n      listening = _useSpeechRecognition.listening,\n      browserSupportsSpeechRecognition = _useSpeechRecognition.browserSupportsSpeechRecognition,\n      isMicrophoneAvailable = _useSpeechRecognition.isMicrophoneAvailable;\n\n  var navigate = useNavigate();\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user1Transcript = _useState4[0],\n      setUser1Transcipt = _useState4[1];\n\n  useEffect(function () {\n    setUser1Transcipt(transcript);\n  }, [transcript]);\n\n  if (!browserSupportsSpeechRecognition || !isMicrophoneAvailable) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 12\n      }\n    }, \"Browser doesn't support speech recognition.\");\n  }\n\n  function handleChange(event) {\n    setUser1Transcipt(event.target.value);\n  }\n\n  function resetTranscript() {\n    SpeechRecognition.stopListening();\n    setUser1Transcipt('');\n  }\n\n  function handleSubmit(event) {\n    console.log(\"user wants to say: \", user1Transcript);\n\n    if (user1Transcript.trim().length > 0) {\n      //   localStorage.setItem('userTranscript', user1Transcript);\n      //   axios({\n      //     method: 'GET',\n      //     url: `https://cosylab.iiitd.edu.in/recipe-voice-bot-backend/api/findRecipeByText/` + user1Transcript,\n      //   })\n      //     .then((res) => {\n      //       console.log('data got', res.data);\n      //       setJsonData(res.data);\n      //     })\n      //     .catch((err) => {\n      //       console.log('error got', err);\n      //     });\n      //   setFirstTime(true);\n      //   window.location.reload(false);\n      navigate('/recipe-voice-bot/search_recipe');\n      localStorage.setItem('userTranscript', user1Transcript);\n      window.location.reload(false);\n    }\n  }\n\n  useEffect(function () {\n    if (!isFirstTime) {\n      axios({\n        method: 'GET' // url: `https://cosylab.iiitd.edu.in/recipe-voice-bot-backend/api/findRecipeByText/` + userTranscript\n        // url : 'http://localhost:3002/api/findRecipeByText/' + userTranscript\n\n      }).then(function (res) {\n        console.log('data got', res.data);\n        setJsonData(res.data);\n      }).catch(function (err) {\n        console.log('error got', err);\n      });\n      setFirstTime(true);\n    }\n  }, []);\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      jsonData = _useState6[0],\n      setJsonData = _useState6[1];\n\n  var response = jsonData === null ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marginForSpinner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ColorRing, {\n    colors: ['#309D66', '#309D66', '#309D66', '#309D66', '#309D66'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BasicTable, {\n    jsonData: jsonData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"left-margin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, listening ? 'Listening...' : ''), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"centerdiv\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    value: user1Transcript,\n    onChange: handleChange,\n    placeholder: \"Click SPEAK Button to ask queries to RecipeDB...\",\n    className: \"textareastyleRL\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"rounded-buttonrl\",\n    onClick: SpeechRecognition.startListening,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, \"SPEAK\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"rounded-buttonrl1\",\n    onClick: resetTranscript,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, \"CLEAR\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"rounded-buttonrl2\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"SUBMIT\"), response);\n};\n\nexport default RecipeList;","map":{"version":3,"names":["React","useEffect","useState","BasicTable","axios","ColorRing","Header","Footer","SpeechRecognition","useSpeechRecognition","useNavigate","RecipeList","props","isFirstTime","setFirstTime","userTranscript","localStorage","getItem","transcript","listening","browserSupportsSpeechRecognition","isMicrophoneAvailable","navigate","user1Transcript","setUser1Transcipt","handleChange","event","target","value","resetTranscript","stopListening","handleSubmit","console","log","trim","length","setItem","window","location","reload","method","then","res","data","setJsonData","catch","err","jsonData","response","startListening"],"sources":["C:/Users/dell/OneDrive/Desktop/Voice-Assistant-RecipeDB/Frontend/src/pages/RecipeList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './RecipeList.css';\nimport { BasicTable } from './../components/BasicTable';\nimport axios from 'axios';\nimport { ColorRing } from 'react-loader-spinner';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition';\nimport { useNavigate } from 'react-router-dom';\n\nconst RecipeList = (props) => {\n  const [isFirstTime, setFirstTime] = useState(false);\n  const userTranscript = localStorage.getItem('userTranscript');\n  const {\n    transcript,\n    listening,\n    browserSupportsSpeechRecognition,\n    isMicrophoneAvailable,\n  } = useSpeechRecognition();\n  const navigate = useNavigate();\n  const [user1Transcript, setUser1Transcipt] = useState('');\n  useEffect(() => {\n    setUser1Transcipt(transcript);\n  }, [transcript]);\n\n  if (!browserSupportsSpeechRecognition || !isMicrophoneAvailable) {\n    return <span>Browser doesn't support speech recognition.</span>;\n  }\n\n  function handleChange(event) {\n    setUser1Transcipt(event.target.value);\n  }\n\n  function resetTranscript() {\n    SpeechRecognition.stopListening();\n    setUser1Transcipt('');\n  }\n\n  function handleSubmit(event) {\n    console.log(\"user wants to say: \", user1Transcript);\n    if (user1Transcript.trim().length > 0) {\n    //   localStorage.setItem('userTranscript', user1Transcript);\n    //   axios({\n    //     method: 'GET',\n    //     url: `https://cosylab.iiitd.edu.in/recipe-voice-bot-backend/api/findRecipeByText/` + user1Transcript,\n    //   })\n    //     .then((res) => {\n    //       console.log('data got', res.data);\n    //       setJsonData(res.data);\n    //     })\n    //     .catch((err) => {\n    //       console.log('error got', err);\n    //     });\n    //   setFirstTime(true);\n    //   window.location.reload(false);\n    navigate('/recipe-voice-bot/search_recipe')\n    localStorage.setItem('userTranscript', user1Transcript);\n    window.location.reload(false);\n    }\n  }\n\n  useEffect(() => {\n    if (!isFirstTime) {\n      axios({\n        method: 'GET',\n        // url: `https://cosylab.iiitd.edu.in/recipe-voice-bot-backend/api/findRecipeByText/` + userTranscript\n        // url : 'http://localhost:3002/api/findRecipeByText/' + userTranscript\n      })\n        .then((res) => {\n          console.log('data got', res.data);\n          setJsonData(res.data);\n        })\n        .catch((err) => {\n          console.log('error got', err);\n        });\n      setFirstTime(true);\n    }\n  }, []);\n\n  const [jsonData, setJsonData] = useState(null);\n  const response =\n    jsonData === null ? (\n      <div>\n        <div className=\"marginForSpinner\">\n          <ColorRing colors={['#309D66', '#309D66', '#309D66', '#309D66', '#309D66']} />\n        </div>\n        <Footer />\n      </div>\n    ) : (\n      <div>\n        <BasicTable jsonData={jsonData}></BasicTable>\n        <Footer />\n      </div>\n    );\n\n  return (\n    <div>\n      <Header></Header>\n      <h2 className=\"left-margin\">{listening ? 'Listening...' : ''}</h2>\n      <form onSubmit={handleSubmit} className=\"centerdiv\">\n        <label>\n          <textarea type=\"text\" value={user1Transcript} onChange={handleChange} placeholder=\"Click SPEAK Button to ask queries to RecipeDB...\"className=\"textareastyleRL\"\n          />\n        </label>\n      </form>\n      <button className=\"rounded-buttonrl\" onClick={SpeechRecognition.startListening}>SPEAK</button>\n      <button className=\"rounded-buttonrl1\" onClick={resetTranscript}>CLEAR</button>\n      <button className=\"rounded-buttonrl2\" onClick={handleSubmit}>SUBMIT</button>\n      {response}\n    </div>\n  );\n};\n\nexport default RecipeList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}